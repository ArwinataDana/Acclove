<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Will You Be My Girlfriend?</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"
  />
  <link
    href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Montserrat:wght@400;700&display=swap"
    rel="stylesheet"
  />
  <style>
    body {
      font-family: 'Montserrat', sans-serif;
      background: #ffe4ec;
      overflow-x: hidden;
      min-height: 100vh;
      position: relative;
    }
    h1, h2 {
      font-family: 'Great Vibes', cursive;
    }
    /* Heart trail styles */
    .heart {
      position: fixed;
      pointer-events: none;
      width: 20px;
      height: 20px;
      background: #ff4d94;
      transform: rotate(-45deg);
      animation: fadeOut 1s forwards;
      z-index: 9999;
      filter: drop-shadow(0 0 2px #ff4d94);
    }
    .heart:before,
    .heart:after {
      content: "";
      position: absolute;
      width: 20px;
      height: 20px;
      background: #ff4d94;
      border-radius: 50%;
    }
    .heart:before {
      top: -10px;
      left: 0;
    }
    .heart:after {
      left: 10px;
      top: 0;
    }
    @keyframes fadeOut {
      0% {
        opacity: 1;
        transform: rotate(-45deg) scale(1);
      }
      100% {
        opacity: 0;
        transform: rotate(-45deg) scale(2);
      }
    }
  </style>
</head>
<body>
  <div id="app" class="min-h-screen flex flex-col items-center justify-center px-4 py-8">
    <!-- Content will be injected here by JS -->
  </div>

  <script>
    // Heart trail effect
    document.addEventListener('mousemove', (e) => {
      const heart = document.createElement('div');
      heart.className = 'heart';
      heart.style.left = e.clientX - 10 + 'px';
      heart.style.top = e.clientY - 10 + 'px';
      document.body.appendChild(heart);
      setTimeout(() => {
        heart.remove();
      }, 1000);
    });

    // App state and rendering
    const app = document.getElementById('app');

    // Store date/time and picture choice for page 3
    let dateValue = '';
    let timeValue = '';
    let pictureChoice = '';

    // Page 1: Ask to be girlfriend
    function renderPage1() {
      app.innerHTML = `
        <div class="max-w-md w-full bg-pink-100 rounded-3xl shadow-lg p-8 text-center">
          <h1 class="text-5xl text-pink-600 mb-6">Will You Be My Girlfriend?</h1>
          <p class="text-pink-700 text-lg mb-10">I really hope you say yes ðŸ’–</p>
          <div class="flex justify-center space-x-6 relative h-16">
            <button id="yesBtn" class="bg-pink-500 hover:bg-pink-600 text-white font-semibold py-3 px-8 rounded-full shadow-lg transition duration-300 focus:outline-none focus:ring-4 focus:ring-pink-300">
              Yes, I do
            </button>
            <button id="noBtn" class="bg-pink-300 hover:bg-pink-400 text-pink-900 font-semibold py-3 px-6 rounded-full shadow-lg transition duration-300 focus:outline-none focus:ring-4 focus:ring-pink-200 absolute top-0 left-1/2 transform -translate-x-1/2">
              No, leave me alone
            </button>
          </div>
        </div>
      `;

      const yesBtn = document.getElementById('yesBtn');
      const noBtn = document.getElementById('noBtn');

      yesBtn.addEventListener('click', () => {
        renderPage2();
      });

      // On hover, the "No" button disappears and reappears randomly inside the container
      noBtn.addEventListener('mouseenter', () => {
        // Hide the button
        noBtn.style.opacity = '0';
        noBtn.style.pointerEvents = 'none';

        // After a short delay, move it randomly and show it again
        setTimeout(() => {
          const container = noBtn.parentElement;
          const containerRect = container.getBoundingClientRect();
          const btnRect = noBtn.getBoundingClientRect();

          // Calculate max left and top inside container for the button
          const maxLeft = container.clientWidth - noBtn.offsetWidth;
          const maxTop = container.clientHeight - noBtn.offsetHeight;

          // Random position inside container
          const randomLeft = Math.random() * maxLeft;
          const randomTop = Math.random() * maxTop;

          noBtn.style.position = 'absolute';
          noBtn.style.left = randomLeft + 'px';
          noBtn.style.top = randomTop + 'px';

          noBtn.style.opacity = '1';
          noBtn.style.pointerEvents = 'auto';
        }, 300);
      });
    }

    // Page 2: Schedule a date
    function renderPage2() {
      app.innerHTML = `
        <div class="max-w-md w-full bg-pink-50 rounded-3xl shadow-lg p-8 text-center">
          <h2 class="text-4xl text-pink-600 mb-6 font-semibold">Schedule Our Date</h2>
          <form id="dateForm" class="space-y-6 text-left">
            <label class="block">
              <span class="text-pink-700 font-medium mb-1 block">Choose a date:</span>
              <input type="date" id="dateInput" required class="w-full rounded-md border border-pink-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-pink-400" />
            </label>
            <label class="block">
              <span class="text-pink-700 font-medium mb-1 block">Choose a time:</span>
              <input type="time" id="timeInput" required class="w-full rounded-md border border-pink-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-pink-400" />
            </label>
            <fieldset class="block">
              <legend class="text-pink-700 font-medium mb-2">Pick a picture for our date:</legend>
              <div class="flex justify-between space-x-4">
                <label class="cursor-pointer flex flex-col items-center text-pink-700 hover:text-pink-900 transition">
                  <input type="radio" name="picture" value="pizza" class="hidden" required />
                  <img src="https://placehold.co/100x100/png?text=Pizza+Date&bg=ffb6c1" alt="A romantic pizza dinner with candlelight and heart-shaped pepperoni on the pizza" class="rounded-xl shadow-md mb-2" />
                  Pizza
                </label>
                <label class="cursor-pointer flex flex-col items-center text-pink-700 hover:text-pink-900 transition">
                  <input type="radio" name="picture" value="london" class="hidden" />
                  <img src="https://placehold.co/100x100/png?text=London+Date&bg=ffb6c1" alt="A romantic couple walking near the London Eye at sunset with pink skies and heart-shaped clouds" class="rounded-xl shadow-md mb-2" />
                  London
                </label>
                <label class="cursor-pointer flex flex-col items-center text-pink-700 hover:text-pink-900 transition">
                  <input type="radio" name="picture" value="movie" class="hidden" />
                  <img src="https://placehold.co/100x100/png?text=Movie+Date&bg=ffb6c1" alt="A cozy movie date with popcorn and heart-shaped cushions in a dimly lit room" class="rounded-xl shadow-md mb-2" />
                  Movie
                </label>
              </div>
            </fieldset>
            <div class="text-center">
              <button type="submit" class="bg-pink-500 hover:bg-pink-600 text-white font-semibold py-3 px-10 rounded-full shadow-lg transition duration-300 focus:outline-none focus:ring-4 focus:ring-pink-300">
                Continue
              </button>
            </div>
          </form>
        </div>
      `;

      const form = document.getElementById('dateForm');
      form.addEventListener('submit', (e) => {
        e.preventDefault();
        const dateInput = document.getElementById('dateInput').value;
        const timeInput = document.getElementById('timeInput').value;
        const pictureRadio = form.querySelector('input[name="picture"]:checked');

        if (!dateInput || !timeInput || !pictureRadio) {
          alert('Please fill all fields and select a picture.');
          return;
        }

        dateValue = dateInput;
        timeValue = timeInput;
        pictureChoice = pictureRadio.value;

        renderPage3();
      });
    }

    // Page 3: Date schedule card
    function renderPage3() {
      // Determine picture URL and alt text based on choice
      let picUrl = '';
      let picAlt = '';
      if (pictureChoice === 'pizza') {
        picUrl = 'https://placehold.co/300x200/png?text=Pizza+Date&bg=ffb6c1';
        picAlt = 'A romantic pizza dinner with candlelight and heart-shaped pepperoni on the pizza';
      } else if (pictureChoice === 'london') {
        picUrl = 'https://placehold.co/300x200/png?text=London+Date&bg=ffb6c1';
        picAlt = 'A romantic couple walking near the London Eye at sunset with pink skies and heart-shaped clouds';
      } else if (pictureChoice === 'movie') {
        picUrl = 'https://placehold.co/300x200/png?text=Movie+Date&bg=ffb6c1';
        picAlt = 'A cozy movie date with popcorn and heart-shaped cushions in a dimly lit room';
      }

      // Format date nicely
      const dateObj = new Date(dateValue + 'T' + timeValue);
      const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
      const formattedDate = dateObj.toLocaleDateString(undefined, options);
      const formattedTime = dateObj.toLocaleTimeString(undefined, { hour: '2-digit', minute: '2-digit' });

      app.innerHTML = `
        <div class="max-w-md w-full bg-pink-50 rounded-3xl shadow-lg p-8 text-center">
          <h2 class="text-4xl text-pink-600 mb-6 font-semibold">Our Date is Set!</h2>
          <img src="${picUrl}" alt="${picAlt}" class="mx-auto rounded-xl shadow-lg mb-6" />
          <div class="text-pink-700 text-lg font-medium space-y-2">
            <p><i class="fas fa-calendar-alt mr-2 text-pink-500"></i><span>Date:</span> ${formattedDate}</p>
            <p><i class="fas fa-clock mr-2 text-pink-500"></i><span>Time:</span> ${formattedTime}</p>
            <p><i class="fas fa-heart mr-2 text-pink-500"></i><span>Picture Choice:</span> ${pictureChoice.charAt(0).toUpperCase() + pictureChoice.slice(1)}</p>
          </div>
          <button id="restartBtn" class="mt-8 bg-pink-500 hover:bg-pink-600 text-white font-semibold py-3 px-10 rounded-full shadow-lg transition duration-300 focus:outline-none focus:ring-4 focus:ring-pink-300">
            Start Over
          </button>
        </div>
      `;

      const restartBtn = document.getElementById('restartBtn');
      restartBtn.addEventListener('click', () => {
        renderPage1();
      });
    }

    // Initial render
    renderPage1();
  </script>
</body>
</html>